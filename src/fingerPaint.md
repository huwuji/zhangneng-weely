### 设备指纹

1. 什么是设备指纹？
    设备指纹即是标识某一个设备的特殊符号。(这里要注意的是最小单元是某一设备)
    所以只要能标识某一个硬件设备的符号就是这个设备的指纹。

2. 构建一个设备指纹的思路？
个人在这分为 两种：前端构建和后端构建。

3. 前端构建设备指纹：
前端构建即前端生成设备指纹。生成原则可以有如下：
比如UseAgent(并不一定唯一)，
利用canvas fingerprint,
获取硬件的属性或者系统的属性，
也可以是浏览器或者操作系统的占比的组合的hash值，
或者以上不同系数组合的hash值。

前端构建问题：
可能重复， 不同的用户构建生成的设备指纹一样，会被误标记为同一用户。


4. 后端构建：
后端构建即后端生成设备指纹。相比于前端构建，优势在于一定能确定唯一性，劣势在于怎么能在设备上长期保留而不被发现清除。

后端构建的方式一般是利用缓存机制：
如下：
a. 利用cookie/session/web storage/index db/web sql,(容易被主动发现和清除);
b. 利用http header字段，比如ETAG/LastModify，通过滥用这两个header，比如设置ETAG超时时间超长，并且把UUID写在ETAG中（ETAG支持最高81864比特），那这个用户就可以在超时前被一直锁定跟踪
c. 利用cdn缓存，思路一是当用户第一次加载时，后端把指纹插进html文件的dom里，利用cdn缓存，当用户再次在此设备上请求该资源时，直接拿的是cdn上的缓存资源，做到标识效果。
d. 利用window.name来进行跨域传递，处理一些场景下的数据传递，绝大多数时候不需要使用，也不建议使用，

5. 其他能达到设备指纹效果的方式。
设备指纹是直接标识一个设备，除此意外还可以用一些辅助信息来判断，比如在用户使用的时候记录用户的一些操作习惯，操作时间，等。当另外有一个很相似的一条数据产生时，我们可以假如他们是同一个用户，再去做更加深入的追踪。


参考：
<chrome-extension://cdonnmffkdaoajfknoeeecmchibpmkmg/assets/pdf/web/viewer.html?file=https%3A%2F%2Fhovav.net%2Fucsd%2Fdist%2Fjspriv.pdf>


